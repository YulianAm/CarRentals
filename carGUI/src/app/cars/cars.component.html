
<div *ngIf="editable">
    <form #carForm="ngForm" ngNativeValidate (ngSubmit)="SendToEditService(car)">
        <div class="panel panel-primary">

            <div class="panel-heading">
                <h3 class="panel-title"> Edit Car </h3>
            </div>

            <div class="panel-body">

                <!--<div class="form-group" [class.has-success]="carNumberControl.valid"
                    [class.has-error]="carNumberControl.invalid && carNumberControl.touched">
                    <label class="control-label" for="carNumber">Car Number </label>
                    <input #carNumberControl="ngModel" required id="carNumber" name="carNumber"
                        [(ngModel)]="car.carNumber" type="text" class="form-control">
                    <span class="help-block" *ngIf="carNumberControl.invalid && carNumberControl.touched">
                        Car Number is required
                    </span>
                </div>-->

                <div>
                    <h5> Car to edit is: {{car.carNumber}} </h5>



                </div>









                <div class="form-group" [class.has-success]="carMileageControl.valid"
                    [class.has-error]="carMileageControl.invalid && carMileageControl.touched">
                    <label for="mileage">Car mileage </label>
                    <input #carMileageControl="ngModel" required id="mileage" name="mileage" [(ngModel)]="car.mileage"
                        type="text" class="form-control">
                    <span class="help-block" *ngIf="carMileageControl.invalid && carMileageControl.touched">
                        Car mileage is required
                    </span>
                </div>







                <div class="form-check">
                    <label for="isAvailable">Is Available? </label> <br>
                    <input id="isAvailable" name="isAvailable" [(ngModel)]="car.isAvailable" type="checkbox"
                        class="form-check-input">
                </div>

                <div class="form-check">
                    <label for="isUndamaged">Is Undamaged? </label> <br>
                    <input id="isUndamaged" name="isUndamaged" [(ngModel)]="car.isUndamaged" type="checkbox"
                        class="form-check-input">
                </div>

               <!-- <div >
                    <label for="power">Branch</label>
                    <select  id="power" required [(ngModel)]="branch"   name="branch">
                        <option *ngFor="let branch of branches" >{{branch.BranchName}}
                        </option>
                    </select>
                </div> -->



            </div>

            <div class="panel-footer">
                <button type="submit" class="btn btn-primary">Save</button>
                <button (click)="noEdit()" class="btn btn-primary">exit</button>
            </div>
        </div>




    </form>
</div>




<div class="container">

<h3>Filter by car number</h3>

<input type="text"   class="form-control" [(ngModel)]="term" >
</div>


<br>
<br>

<div class="panel panel-primary" *ngFor=" let car of cars | filter:term ; index as i ">
    <div class="panel-heading">
        <h3 class="panel-title"># {{ i+1 }} | {{car.carNumber}} {{car.region}} | </h3>
    </div>
    <div class="panel-body">
        <div class="col-xs-10">
            <div class="row vertical-align">
                <div class="col-xs-4">
                    <img height="150" width="220" src="data:image/png;base64,{{car.image}}">
                </div>

                <div class="col-xs-8">


                    <div class="row">
                        <div class="col-xs-4">
                            car number
                        </div>
                        <div class="col-xs-4">
                            {{ car.carNumber }}
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-xs-4">
                            car type
                        </div>
                        <div class="col-xs-4">
                            {{ car.carType }}
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xs-4">
                            available?
                        </div>
                        <div class="col-xs-4">
                            {{ car.isAvailable }}
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-xs-4">
                            is undamaged?
                        </div>
                        <div class="col-xs-4">
                            {{ car.isUndamaged  }}
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-xs-4">
                            mileage
                        </div>
                        <div class="col-xs-4">
                            {{ car.mileage }}
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-xs-4">
                            branch
                        </div>
                        <div class="col-xs-4">
                            {{ car.branchObject.BranchName }}
                        </div>
                    </div>




                </div>
                <div>
                    <button class="btn btn-danger pull-right" data-toggle="confirmation" title="delete car"
                        (click)="Delete(car)">x</button>
                </div>
                <br>
                <div>
                    <button class="btn btn-primary pull-right" data-toggle="confirmation" title="edit car"
                        (click)="Edit2(car)">Edit</button>
                </div>






            </div>